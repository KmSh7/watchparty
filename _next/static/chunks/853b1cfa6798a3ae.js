(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64551,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let s=(0,r.createContext)(0);function l({isFcs:e}){return(0,r.useContext)(s),(0,t.jsx)("article",{className:"   bg-black   w-full   h-[55vw]   max-h-100   shrink-0   z-20   sticky   top-0   flex flex-col justify-center items-center align-middle   ",children:(0,t.jsx)("iframe",{className:"   size-full   contain-content   ",src:"https://www.youtube.com/embed/9LZP0KvMwts?list=RD9LZP0KvMwts",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,frameBorder:"0"})})}let n="https://jsonserrver.onrender.com/convo";async function i(){try{let e=await fetch(n);if(!e.ok)throw Error(`Server error | fetching failed | ${e.status}`);let t=await e.json();return console.log("data:"+t),t}catch(e){throw console.log("failed try:"+e),e}}async function o(e){try{await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userSays:e})})}catch(e){console.log("failed post try: ",e)}}function a({setEnableFocus:e,user:l,username:n}){let[i,a]=(0,r.useState)([]),[c,u]=(0,r.useState)(""),[d,f]=(0,r.useState)("rgb(8, 65, 112)"),x=(0,r.useContext)(s),m=(0,r.useRef)(null),w=(0,r.useRef)(null),[h,v]=(0,r.useState)(),[p,b]=(0,r.useState)(),[g,y]=(0,r.useState)("block"),j=(0,r.useRef)(null);return(0,r.useEffect)(()=>{j.current?.scrollIntoView({behavior:"smooth"})},[d]),(0,r.useEffect)(()=>{let t=m.current;function r(){e(!0)}function s(){e(!1)}return t?.addEventListener("focus",r),t?.addEventListener("blur",s),t?.addEventListener("scroll",r),()=>{t?.removeEventListener("focus",r),t?.removeEventListener("blur",s),t?.removeEventListener("scroll",s)}},[e]),(0,t.jsxs)("article",{ref:w,style:{height:`${x<500?15:60}dvh`},className:"   shadow-[2px_2px_12px_rgb(0,0,0)]   w-[96%]   rounded   m-2   flex flex-col items-center   shrink   max-h-[60vh]   ",children:[(0,t.jsx)("section",{className:"   grow   bg-[rgb(46,46,46)]   w-full   overflow-y-auto   flex flex-col  items-left   ",children:l.map((e,r)=>(0,t.jsxs)("div",{className:"m-2   flex flex-col   relative   ",children:[e.userSays.map((e,r)=>{let s=e.slice(0,3);return(0,t.jsx)("span",{"data-msg":r,id:`msg${r}`,className:`
                      m-2 
                      p-1 
                      rounded-lg 
                      ${"KRS"===s?"bg-[rgb(19,88,112)]":"bg-[rgb(124,18,143)]"}
                      ${"KRS"===s?"self-start":"self-end"}
                      
                      `,children:e.slice(3)},r)}),(0,t.jsx)("div",{ref:j})]},r))}),(0,t.jsxs)("section",{className:"   w-full   h-auto   flex flex-row    justify-center   sticky   bottom-0   ",children:[(0,t.jsx)("input",{ref:m,id:"textbox",className:"   shadow-[2px_2px_12px_rgb(0,0,0)]   grow   outline-none   p-3   text-white-900   text-xlx   focus:bg-black   z-10   ",onChange:e=>{u(e.target.value)},type:"text",value:c}),(0,t.jsx)("button",{className:"   shadow-[2px_2px_12px_rgb(0,0,0)]   bg-black    text-5xl   text-white    w-[10dvw]   text-center    font-bold   active:shadow-0xl   duration-100   ",onClick:()=>{""!=c.trim()&&null!=c&&("kumar"==n?(f("rgb(4, 134, 160)"),o([`KRS${c}`])):(f("#9e09a5"),o([`OLA${c}`])),u(""))},children:">"})]})]})}function c(){let[e,n]=(0,r.useState)(0),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!0),[f,x]=(0,r.useState)(""),m=(0,r.useRef)(null),[w,h]=(0,r.useState)();async function v(e){"kumar"==e?x("kumar"):x("olivia"),d(!1)}return(0,r.useEffect)(()=>{async function e(){h(await i())}e();let t=setInterval(e,200);return()=>{clearInterval(t)}},[]),(0,r.useEffect)(()=>{function e(){window.visualViewport&&n(window.visualViewport.height)}return e(),window.visualViewport?.addEventListener("resize",e),window.visualViewport?.addEventListener("scroll",e),()=>{window.visualViewport?.removeEventListener("resize",e),window.visualViewport?.removeEventListener("scroll",e)}},[]),(0,r.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[o]),u?(0,t.jsx)("section",{className:"   size-[90vw]   h-[80dvh]   max-w-150   rounded   relative   flex flex-col justify-center items-center   my-5   ",children:(0,t.jsxs)("article",{className:"   w-full   h-[50%]   bg-black   rounded-lg   flex flex-col justify-center items-center   *:p-3   *:m-3   *:w-[40%]   *:text-center   *:text-2xl   *:rounded   ",children:[(0,t.jsx)("button",{onClick:()=>v("kumar"),className:"bg-cyan-700",children:"Kumar"}),(0,t.jsx)("button",{onClick:()=>v("olivia"),className:"bg-pink-600",children:"Olivia"})]})}):(0,t.jsxs)(s.Provider,{value:e,children:[(0,t.jsx)(l,{isFcs:o}),(0,t.jsx)(a,{username:f,user:w??[],setEnableFocus:c})]})}e.s(["default",()=>c],64551)}]);